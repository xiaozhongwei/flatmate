<div class="alert-block">
  {{#if session.user.logo.downloadFilePath}}
      <img class="user-header"
           src={{session.user.logo.downloadFilePath}} title={{session.user.firstName}} />
  {{else}}
      <img class="user-header"
           src="images/user_unknown.png" title={{session.user.firstName}}>
  {{/if}}
    <p>Tell us about your apartment</p>
</div>

{{#unless model.isShared}}
  {{#each model.listings as |listing index|}}
    {{#unless index}}
        <div class="edit-form margin-top-25">
            <div class="group-row">
                <label for="title" class="sub-title">Write a title</label>
              {{input id="title" type="text" autocomplete="off" placeholder="Write a title" value=listing.title}}
            </div>
            <div class="group-row  margin-top-25">
                <label for="description" class="sub-title">Description</label>
              {{textarea id="description" placeholder="Write a description in 250 characters or less" value=listing.description}}
            </div>

            <div class="group-row with-title">
                <label class="title">Payment</label>
                <div class="payment clearfix">
                    <div class="col">
                        <p class="title">Deposit</p>
                      {{input type="text" autocomplete="off" value=listing.deposit}}
                    </div>
                    <div class="col">
                        <p class="title">Service Fee</p>
                      {{input type="text" autocomplete="off" value=listing.serviceFee}}
                    </div>
                </div>
              {{#each listing.payments as |payment pIndex|}}
                {{#unless pIndex}}
                    <div class="payment clearfix">
                        <div class="col">
                            <p class="title">Payment cycle</p>
                            {{select-2
                            content=paymentMapping
                            value=payment.cycle
                            optionValuePath="id"
                            }}
                        </div>
                        <div class="col">
                            <p class="title">Price</p>
                            {{input value=payment.price}}
                        </div>
                        <div class="op">
                            <img class="add-payment" src="/images/static/Add.png" {{action "addPayment" listing}} />
                        </div>
                    </div>
                {{else}}
                    <div class="payment more clearfix">
                        <div class="col">
                          {{select-2
                          content=paymentMapping
                          value=payment.cycle
                          optionValuePath="id"
                          }}
                        </div>
                        <div class="col">
                            {{input value=payment.price}}
                        </div>
                        <div class="op">
                            <img class="remove" src="/images/static/remove.png" {{action "removePayment" listing payment}} />
                        </div>
                    </div>
                {{/unless}}
              {{/each}}

            </div>
        </div>
    {{/unless}}
  {{/each}}
{{/unless}}

<div class="op-wrapper">
    <div class="op-form">
        <p class="sub-title">Details</p>
        <div class="home-detail clearfix">
            <div class="col">
                <p class="title">Bedrooms</p>
              {{select-2
              content=roomNumberMapping
              enabled=model.bedroomEditable
              value=model.bedrooms
              optionValuePath="id"
              }}
            </div>
            <div class="col">
                <p class="title">Living Rooms</p>
              {{select-2
              content=roomNumberMapping
              value=model.bathrooms
              optionValuePath="id"
              }}
            </div>
            <div class="col">
                <p class="title">Bathrooms</p>
              {{select-2
              content=roomNumberMapping
              value=model.livingRooms
              optionValuePath="id"
              }}
            </div>
            <div class="col">
                <p class="title">Size,m2</p>
              {{input type="text" autocomplete="off" value=model.size}}
            </div>
        </div>
        <hr/>

        <p class="sub-title">Amenities</p>
        <div class="clearfix">
          {{multi-checkboxes options=amenityMapping valueProperty='index' labelProperty='name' selection=model.amenities}}
        </div>
    </div>
</div>